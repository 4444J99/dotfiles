# AWS Credentials from 1Password
# Managed by chezmoi - secrets never committed to Git

{{- $awsPersonal := (onepasswordItemFields "AWS Personal" "Personal" "") }}
{{- $awsWork := (onepasswordItemFields "AWS Work" "Personal" "") }}

{{- if $awsPersonal }}
[default]
aws_access_key_id = {{ $awsPersonal.access_key_id.value }} # allow-secret
aws_secret_access_key = {{ $awsPersonal.secret_access_key.value }} # allow-secret
{{- if $awsPersonal.region }}
region = {{ $awsPersonal.region.value }}
{{- end }}
{{- else }}
# AWS credentials not configured
# To enable:
# 1. Create 1Password item: "AWS Personal" in Personal vault
# 2. Add fields: access_key_id (password), secret_access_key (password), region (text)
# 3. Run: chezmoi apply
{{- end }}

{{- if $awsWork }}

[work]
aws_access_key_id = {{ $awsWork.access_key_id.value }} # allow-secret
aws_secret_access_key = {{ $awsWork.secret_access_key.value }} # allow-secret
{{- if $awsWork.region }}
region = {{ $awsWork.region.value }}
{{- end }}
{{- end }}
